<script src="order.component.ts"></script>
<script src="../payment/payment.component.ts"></script>
<div>
  <h1 id="Arian-title">Récapitulatif de commande</h1>
  <h3>Articles contenus dans la commande :</h3>
  <table *ngIf="!cartContentService?.isEmpty(); else cartEmpty">
    <thead>
      <tr>
        <th class="cols">Identifiant</th>
        <th class="cols">Nom</th>
        <th class="cols">Quantité</th>
        <th class="cols">Quantité en stock</th>
        <th class="cols">Prix unitaire</th>
        <th class="cols">Prix Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let productQuantity of cartContentService?.getProductsAndQuantity()">
        <td>{{ productQuantity.product.id }}</td>
        <td>{{ productQuantity.product.label }}</td>
        <td>{{ productQuantity.quantity }}</td>
        <td>{{ productQuantity.product.quantity }}</td>
        <td>{{ productQuantity.product.price }} €</td>
        <td>{{ totalPrice(productQuantity.product, productQuantity.quantity) }} €</td>
      </tr>
    </tbody>
  </table>

  <ng-template #cartEmpty>
    <i> Votre panier est vide ! </i>
  </ng-template>

  <h3>Prix total : {{ cartContentService?.getPrice() }}€</h3>
</div>
